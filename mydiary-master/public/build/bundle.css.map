{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\App.svelte",
    "..\\..\\index.svelte",
    "..\\..\\Card.svelte",
    "..\\..\\Header.svelte",
    "..\\..\\ImageElement.svelte",
    "..\\..\\ContextualMenu.svelte",
    "..\\..\\Fab.svelte",
    "..\\..\\Snackbar.svelte",
    "..\\..\\alertBox.svelte",
    "..\\..\\Autocomplete.svelte",
    "..\\..\\Creator.svelte",
    "..\\..\\Viewer.svelte",
    "..\\..\\Option.svelte",
    "..\\..\\Button.svelte",
    "..\\..\\ColorSelector.svelte"
  ],
  "sourcesContent": [
    "<svelte:head>\n\t<link href=\"https://fonts.googleapis.com/css2?family=Beth+Ellen&display=swap\" rel=\"stylesheet\">\n</svelte:head>\n\n<script>\n\timport { onMount } from 'svelte';\n\timport Grid from \"svelte-grid\";\n  import gridHelp from \"svelte-grid/build/helper/index.mjs\";\n  import Header from './Components/Header.svelte';\n\timport Card from './Components/Card.svelte';\n\timport ImageElement from './Components/ImageElement.svelte';\n\timport Fab from './Components/Fab.svelte';\n\timport ContextualMenu from './Components/ContextualMenu.svelte';\n\timport Creator from './Pages/Creator.svelte';\n\timport Viewer from './Pages/Viewer.svelte';\n\timport Option from './Pages/Option.svelte';\n\timport Snackbar from './Components/Snackbar.svelte';\n\timport alertBox from './Components/alertBox.svelte';\n\timport Autocomplete from './Components/Autocomplete.svelte';\n\n\tlet refreshing;\n\tlet deferredPrompt = null;\n\tlet context_page = null;\n\n\twindow.addEventListener('beforeinstallprompt', (e) => {\n\t\te.preventDefault();\n\t\tdeferredPrompt = e;\n\t});\n\n\twindow.addEventListener('popstate', (e) => {\n\t\tif(context_page !== null) context_page.$destroy();\n\t});\n\n\tif ('serviceWorker' in navigator) {\n\t\twindow.addEventListener('load', function() {\n\t\t\tnavigator.serviceWorker.register('./sw.js').then(function(registration) {\n\t\t\t\tconsole.log('ServiceWorker registration successful');\n\t\t\t\tregistration.addEventListener(\"updatefound\", () => {\n\t\t\t\t\tlet update = registration.installing;\n\t\t\t\t\tupdate.addEventListener(\"statechange\", () => {\n\t\t\t\t\t\tif(update.state === \"installed\"){\n\t\t\t\t\t\t\tif(navigator.serviceWorker.controller){\n\t\t\t\t\t\t\t\tlet snackbar = new Snackbar({\n\t\t\t\t\t\t\t\t\ttarget: document.body,\n\t\t\t\t\t\t\t\t\tprops: {\n\t\t\t\t\t\t\t\t\t\tduration: 10000,\n\t\t\t\t\t\t\t\t\t\ttext: \"Nuova versione disponibile\",\n\t\t\t\t\t\t\t\t\t\tactionText: \"Refresh\",\n\t\t\t\t\t\t\t\t\t\tclick: function(){\n\t\t\t\t\t\t\t\t\t\t\tupdate.postMessage({\n\t\t\t\t\t\t\t\t\t\t\t\taction: \"skipWaiting\"\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tsnackbar.$set({\n\t\t\t\t\t\t      context: snackbar\n\t\t\t\t\t\t    });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}, function(err) {\n\t\t\t\tconsole.log('ServiceWorker registration failed: ', err);\n\t\t\t});\n\t\t});\n\t\tnavigator.serviceWorker.addEventListener('controllerchange', function () {\n\t\t\tif (refreshing) return;\n\t\t\twindow.location.reload();\n\t\t\trefreshing = true;\n\t\t});\n\t}else {\n\t\tconsole.log(\"Ops! Il tuo browser sembra non essere compatibile con i service worker\");\n\t}\n\nfunction installPwa() {\n deferredPrompt.prompt();\n deferredPrompt.userChoice.then((choiceResult) => {\n\t if (choiceResult.outcome === 'accepted') {\n\t\t console.log('PWA installata correttamente!');\n\t\t window.location.reload();\n\t } else {\n\t\t console.log('Ops! PWA non installata...');\n\t }\n\t deferredPrompt = null;\n });\n\n}\n\n\tlet theme = localStorage.getItem(\"theme-mode-diary\");\n\tlet isFirstStart = false;\n\tif(!theme){\n\t\ttheme = \"light\";\n\t\tlocalStorage.setItem(\"theme-mode-diary\", \"light\");\n\t\tisFirstStart = true;\n\t}\n\tif(theme === \"dark\") setTheme(\"#212121\");\n\telse setTheme(\"#3e2723\", false);\n\n\tconst request = window.indexedDB.open(\"diary\", 1);\n\tconst breakpoints = [\n\t\t[1000, 2, 3],\n\t];\n\tconst texture = [\n\t\t\"./media/cover/inspiration-geometry.png\",\n\t\t\"./media/cover/diagmonds.png\",\n\t\t\"./media/cover/3px-tile.png\",\n\t\t\"./media/cover/60-lines.png\",\n\t\t\"./media/cover/axiom-pattern.png\",\n\t\t\"./media/cover/basketball.png\",\n\t\t\"./media/cover/cartographer.png\",\n\t\t\"./media/cover/cubes.png\",\n\t];\n\tconst colors = [\n\t\t\"#b71c1c\",\n\t\t\"#880e4f\",\n\t\t\"#4a148c\",\n\t\t\"#311b92\",\n\t\t\"#1a237e\",\n\t\t\"#0d47a1\",\n\t\t\"#01579b\",\n\t\t\"#006064\",\n\t\t\"#004d40\",\n\t\t\"#1b5e20\",\n\t\t\"#33691e\",\n\t\t\"#827717\",\n\t\t\"#e65100\",\n\t\t\"#bf360c\",\n\t\t\"#3e2723\",\n\t];\n\tlet limit = 10;\n\tlet counter = 0;\n\tlet cursor = null;\n\tlet db = null;\n\tlet items_arr = [];\n\tlet status = 0;\n\tlet id = null;\n\tlet isScrolling = false;\n\tlet scrollTimer;\n\tlet loading_timeout;\n\n\tonMount(() => {\n\t\trequest.onsuccess = (event) => {\n\t\t\tdb = event.target.result;\n\t\t\tif(isFirstStart){\n\t\t\t\tlet store = db.transaction([\"pages\"], \"readwrite\").objectStore(\"pages\");\n\t\t\t\tlet tutorial = store.put({\n\t\t\t\t\ttitle: \"Tutorial 🔥\",\n\t\t      body: '<p>Welcome to <span class=\"ql-size-large\">My Diary! 🤩</span></p><p>Your first virtual diary, here are some <span style=\"background-color: rgb(102, 185, 102);\">tips and tricks</span> for you in order to better use this app:</p><ul><li><strong>Long press</strong> (or <strong>Right click</strong>) on a note will display a contextual menu</li><li><strong>Single click</strong> on a note will open it in reading mode</li><li>You can <strong>modify/delete</strong> a note both with the contextual menu or the options in the viewer mode</li><li>You can set a <strong>dark theme</strong> in the option menu</li><li>In order to <strong>create a note</strong> you have to access the Creator page by clicking on the button in the bottom</li><li>You can <strong>install this app</strong> by clicking on the button at the top left corner of the home (depends on the browser compatibility)</li></ul><p>For any info you can check my <a href=\"https://dev.to/maxmoffa\" target=\"_blank\" style=\"background-color: rgb(235, 214, 255);\">dev profile</a> or the page of the repository on <a href=\"https://github.com/MaxMoffa/MyDiary\" target=\"_blank\" style=\"background-color: rgb(255, 255, 204);\">Github</a></p><p>If you really like this project you can <a href=\"https://www.buymeacoffee.com/ABxD3lK\" target=\"_blank\" style=\"background-color: rgb(255, 235, 204);\">offer me a coffee</a>, every coffee will be used in order to work on projects like this one💪</p>',\n\t\t      date: new Date().toLocaleDateString(),\n\t\t\t\t\tcolor: \"#1a237e\",\n\t\t\t\t\ttexture: 7,\n\t\t\t\t});\n\t\t\t\ttutorial.onsuccess = function(event) {\n\t\t\t\t\tconsole.log(\"Tutorial generated\");\n\t\t\t\t\trefreshList();\n\t\t\t\t};\n\t\t\t\ttutorial.onerror = function(event) {\n\t\t\t\t\tconsole.log(event);\n\t\t\t\t\tconsole.log(\"Ops! There is a problem with the tutorial\");\n\t\t\t\t\trefreshList();\n\t\t\t\t};\n\t\t\t}else refreshList();\n\t\t}\n\n\t\trequest.onerror = (event) => {\n\t\t\tstatus = 1;\n\t\t}\n\n\t\trequest.onupgradeneeded = function(event) {\n\t\t\tlet db = event.target.result;\n\t\t\tif(db.objectStoreNames.contains(\"pages\")) {\n\t\t\t\tdb.deleteObjectStore(\"pages\");\n\t\t\t}\n\t\t\tvar store = db.createObjectStore(\"pages\", {keyPath: \"id\", autoIncrement: true});\n\t\t\tstore.createIndex(\"title\", \"title\", { unique: false });\n\t\t\tstore.createIndex(\"date\", \"date\", { unique: false });\n\t\t};\n\t});\n\n\tfunction refreshList(info) {\n\t\tlet query = false;\n\t\tif(info){\n\t\t\tquery = info.detail.query.toLowerCase();\n\t\t}\n\t\tstatus = 0;\n\t\titems_arr = [];\n\t\tlet objectStore = db.transaction([\"pages\"]).objectStore(\"pages\");\n\t\tobjectStore.openCursor().onsuccess = function(event) {\n\t\t\tcursor = event.target.result;\n\t\t\tif (cursor) {\n\t\t\t\tif(!query || cursor.value.title.toLowerCase().includes(query)){\n\t\t\t\t\tlet item = gridHelp.item({\n\t\t\t\t\t\tw: 1,\n\t\t\t\t\t\th: 2,\n\t\t\t\t\t\tx: 0,\n\t\t\t\t\t\ty: 0,\n\t\t\t\t\t\tid: cursor.key,\n\t\t\t\t\t\tdate: cursor.value.date,\n\t\t\t\t\t\tname: cursor.value.title,\n\t\t\t\t\t\tbackground: (cursor.value.color ? cursor.value.color : colors.val(counter)),\n\t\t\t\t\t\ttexture: (cursor.value.texture ? texture.val(cursor.value.texture) : texture.val(counter)),\n\t\t\t\t\t\tstatic: true,\n\t\t\t\t\t\tresizable: false,\n\t\t\t\t\t});\n\t\t\t\t\tlet findOutPosition = gridHelp.findSpaceForItem(item, items_arr, 2);\n\t\t\t\t\titems_arr = [...[{ ...item, ...findOutPosition }], ...items_arr];\n\t\t\t\t\tlimit--;\n\t\t\t\t\tcounter++;\n\t\t\t\t}\n\t\t\t\tcursor.continue();\n\t\t\t\t//if(limit > 0) cursor.continue();\n\t\t\t}else {\n\t\t\t\tcounter = 0;\n\t\t\t\tif(loading_timeout) clearTimeout(loading_timeout);\n\t\t\t\tloading_timeout = setTimeout(() => {\n\t\t\t\t\tif(limit === 10) status = 3;\n\t\t\t\t\telse status = 2;\n\t\t\t\t\tlimit = 10;\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction createPage(event) {\n\t\tif(event.detail.date === undefined) event.detail.date = new Date().toLocaleDateString();\n\t\tlet creator = new Creator({\n\t\t\ttarget: document.body,\n\t\t\tprops: {\n\t\t\t\tdb: db,\n\t\t\t\tid: event.detail.id,\n\t\t\t}\n\t\t});\n\n\t\tcontext_page = creator;\n\t\tcreator.$set({\n\t\t\tcontext: creator\n\t\t});\n\t\tcreator.$on(\"creation\", () => {\n\t\t\trefreshList();\n\t\t});\n\t\tcreator.$on(\"destroy\", (event) => {\n\t\t\tviewPage(event);\n\t\t});\n\t}\n\n\tfunction viewPage(event) {\n\t\tif(!isScrolling){\n\t\t\tlet viewer = new Viewer({\n\t\t\t\ttarget: document.body,\n\t\t\t\tprops: {\n\t\t\t\t\tid: event.detail.id,\n\t\t\t\t\tdb: db\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontext_page = viewer;\n\t\t\tviewer.$set({\n\t\t\t\tcontext: viewer\n\t\t\t});\n\t\t\tviewer.$on(\"modify\", (event) => {\n\t\t\t\tcreatePage(event);\n\t\t\t});\n\t\t\tviewer.$on(\"delete\", (event) => {\n\t\t\t\tdestroy(event.detail.id, true);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction destroy(id, fromViewer) {\n\t\tlet alert = new alertBox({\n\t\t\ttarget: document.body,\n\t\t\tprops: {}\n\t\t});\n\t\talert.$set({\n\t\t\tcontext: alert\n\t\t});\n\t\talert.$on(\"answer\", (event) => {\n\t\t\tif(event.detail.response){\n\t\t\t\tlet objectStore = db.transaction([\"pages\"], \"readwrite\").objectStore(\"pages\");\n\t\t\t\tlet request = objectStore.delete(id);\n\t\t\t\trequest.onerror = function(event) {\n\t\t\t\t\tconsole.log(event);\n\t\t\t\t};\n\t\t\t\trequest.onsuccess = function(event) {\n\t\t\t\t\tif(window.history && window.history.pushState && fromViewer) window.history.back();\n\t\t\t\t\trefreshList();\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction contextualMenu(event) {\n\t\tif(!isScrolling){\n\t\t\tevent.preventDefault();\n\t\t\tif('vibrate' in window.navigator) window.navigator.vibrate(100);\n\t\t\tlet menu = new ContextualMenu({\n\t\t\t\ttarget: document.body,\n\t\t\t\tprops: {\n\t\t\t\t\tid: event.detail.id,\n\t\t\t\t\ttitle: event.detail.title\n\t\t\t\t}\n\t\t\t});\n\t\t\tmenu.$set({\n\t\t\t\tcontext: menu\n\t\t\t});\n\t\t\tmenu.$on(\"open\", (event) => {\n\t\t\t\tviewPage(event);\n\t\t\t});\n\t\t\tmenu.$on(\"modify\", (event) => {\n\t\t\t\tcreatePage(event);\n\t\t\t});\n\t\t\tmenu.$on(\"destroy\", (event) => {\n\t\t\t\tdestroy(event.detail.id);\n\t\t\t});\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction openOption() {\n\t\tlet option = new Option({\n\t\t\ttarget: document.body,\n\t\t\tprops: {\n\t\t\t}\n\t\t});\n\n\t\tcontext_page = option;\n\t\toption.$set({\n\t\t\tcontext: option\n\t\t});\n\t\toption.$on(\"changeTheme\", (event) => {\n\t\t\ttheme = event.detail.theme;\n\t\t\tif(theme === \"dark\") setTheme(\"#212121\", false);\n\t\t\telse setTheme(\"#3e2723\", false);\n\t\t});\n\t}\n\n\tfunction setTheme(color, changeTheme = true) {\n\t\tif(changeTheme) window.document.body.classList.toggle(\"dark\");\n\t\tlet theme = document.querySelector(\"meta[name=theme-color]\");\n\t\tlet ms_theme = document.querySelector(\"meta[name=msapplication-TileColor]\");\n\t\ttheme.setAttribute(\"content\", color);\n\t\tms_theme.setAttribute(\"content\", color);\n\t}\n\n\tdocument.body.addEventListener('scroll', function ( event ) {\n\t\tisScrolling = true;\n\t\twindow.clearTimeout( scrollTimer );\n\t\tscrollTimer = setTimeout(function() {\n\t\t\tisScrolling = false;\n\t\t\tconsole.log(isScrolling);\n\t\t}, 500);\n\t}, false);\n\n\tArray.prototype.val = function (p) {\n\t\tif(typeof p === \"number\"){\n\t\t\twhile(p >= this.length) p -= this.length;\n\t\t\treturn this[p];\n\t\t}\n\t\treturn undefined;\n\t};\n</script>\n\n<main>\n\t<Header />\n\t<Autocomplete on:change={refreshList} />\n\t{#if status === 2}\n\t\t<Grid useTransform {breakpoints} {items_arr} bind:items={items_arr} cols={4} let:item rowHeight={80} gap={5}>\n\t\t\t<Card title={item.name} date={item.date} id={item.id} background={item.background} texture={item.texture} on:click={viewPage} on:longpress={contextualMenu} on:contextmenu={contextualMenu} />\n\t\t</Grid>\n\t{:else if status === 0}\n\t\t<ImageElement class=\"loading\" src=\"./media/image/loading.gif\" alt=\"Loading...\" />\n\t{:else if status === 1}\n\t\t<ImageElement text=\"Ops! There is a problem\" width=\"256px\" class=\"loading\" src=\"./media/image/error.gif\" alt=\"Error...\" />\n\t{:else if status === 3}\n\t\t<ImageElement class=\"loading\" text=\"Write down two lines\" src=\"./media/image/empty.gif\" alt=\"No data...\" />\n\t{/if}\n\t{#if theme === \"dark\"}\n\t\t{#if deferredPrompt !== null}\n\t\t\t<Fab fontSize=\"32px\" margin=\"6px\" color=\"#fff\" background=\"#212121\" shadow=\"#212121\" icon=\"get_app\" position=\"top-left\" on:click={installPwa} />\n\t\t{/if}\n    <Fab positionType=\"fixed\" on:click={createPage} fontSize=\"32px\" color=\"#000\" background=\"#fff8e1\" shadow=\"#000\" icon=\"create\" />\n    <Fab fontSize=\"32px\" margin=\"6px\" color=\"#fff\" background=\"#212121\" shadow=\"#212121\" icon=\"settings\" position=\"top-right\" on:click={openOption} />\n  {:else}\n\t\t{#if deferredPrompt !== null}\n\t\t\t<Fab fontSize=\"32px\" margin=\"6px\" color=\"#000\" background=\"#fff8e1\" shadow=\"#fff8e1\" icon=\"get_app\" position=\"top-left\" on:click={installPwa} />\n\t\t{/if}\n    <Fab positionType=\"fixed\" on:click={createPage} fontSize=\"32px\" icon=\"create\" />\n    <Fab fontSize=\"32px\" margin=\"6px\" color=\"#000\" background=\"#fff8e1\" shadow=\"#fff8e1\" icon=\"settings\" position=\"top-right\" on:click={openOption} />\n  {/if}\n</main>\n\n<style>\n\n\t*{\n\t\t-webkit-tap-highlight-color: transparent;\n\t}\n\n\t:global(html){\n\t\toverflow: hidden;\n\t}\n\n\t:global(body){\n\t\toverflow-x: hidden !important;\n\t\toverflow-y: auto;\n\t\tbackground-color: #fff8e1;\n\t\tcolor: #263238;\n\t\tscrollbar-width: thin;\n    scrollbar-color: #212121 #fff8e1;\n\t}\n\n\t:global(::-webkit-scrollbar){\n    width: 8px;\n  }\n\n  :global(::-webkit-scrollbar-thumb){\n    background-color: #212121;\n    border-right: 1px solid #fff8e1;\n  }\n\n  :global(::-webkit-scrollbar-thumb):hover{\n    background-color: grey;\n  }\n\n\t:global(body.dark) :global(::-webkit-scrollbar-thumb){\n\t\tbackground-color: #fff8e1;\n\t\tborder-right: 1px solid #212121;\n\t}\n\n\t:global(.svlt-grid-container){\n\t\tmargin-bottom: 100px;\n\t}\n\n\t:global(.svlt-grid-item){\n    touch-action: manipulation !important;\n  }\n\n\t:global(body.dark){\n\t\tbackground-color: #212121;\n\t\tcolor: #fff;\n\t\tscrollbar-color: #fff8e1 #212121;\n\t}\n\n\tmain{\n\t\twidth: 100%;\n\t\tmax-width: 1000px;\n\t\theight: auto;\n\t\tmargin: 0 auto;\n\t}\n\n</style>\n",
    "<style>\n  :global(body) {\n    overflow: scroll;\n  }\n\n .svlt-grid-container {\n  position: relative;\n}\n\n.svlt-grid-item {\n  touch-action:none;\n  position: absolute;\n}\n\n.svlt-grid-shadow {\n  position: absolute;\n}\n\n\n.svlt-grid-resizer {\n  user-select: none;\n  width: 20px;\n  height: 20px; \n  position:absolute; \n  right: 0; \n  bottom: 0; \n  cursor: se-resize; \n}\n\n.svlt-grid-resizer::after {\n  content: \"\";\n  position: absolute;\n  right: 3px;\n  bottom: 3px;\n  width: 5px;\n  height: 5px;\n  border-right: 2px solid rgba(0, 0, 0, 0.4);\n  border-bottom: 2px solid rgba(0, 0, 0, 0.4);\n}\n</style>\n\n<svelte:window on:resize={ debounce(onResize,300) } />\n\n<div class:svlt-grid-transition={!focuesdItem} class=svlt-grid-container bind:this={container} style=\"height: {ch}px\">\n  {#each items as item, i (item.id)}\n\n    <div on:mousedown={item.draggable ? dragOnMouseDown.bind(this, item.id) : null}\n        on:touchstart={item.draggable ? dragOnMouseDown.bind(this, item.id) : null}\n        class=svlt-grid-item style=\"{useTransform ? `transform: translate(${item.drag.dragging ? item.drag.left : (item.x * xPerPx) + gap}px, ${item.drag.dragging ? item.drag.top : (item.y * yPerPx + gap)}px);` : ''};\n        {!useTransform ? `top: ${item.drag.dragging ? item.drag.top : (item.y * yPerPx) + gap}px` : ''};\n        {!useTransform ? `left: ${item.drag.dragging ? item.drag.left : (item.x * xPerPx) + gap}px` : ''};\n        width: {item.resize.resizing ? item.resize.width : ((item.w * xPerPx) - gap * 2) - (item.responsive.valueW*xPerPx)}px;\n        height: {item.resize.resizing ? item.resize.height : (item.h * yPerPx) - gap * 2}px;\n        z-index: {item.drag.dragging || item.resize.resizing ? 3 : 1};\n        opacity: {item.resize.resizing ? 0.5 : 1}\">\n\n          <slot {item} index={i}></slot>\n          {#if item.resizable}\n            <div class=svlt-grid-resizer \n          on:touchstart={resizeOnMouseDown.bind(this,item.id)} \n          on:mousedown={resizeOnMouseDown.bind(this,item.id)}\n          ></div>\n          {/if}\n        </div>\n\n\n  {/each}\n\n  {#if shadow.active}\n    <div class=svlt-grid-shadow style=\"{useTransform ? `transform: translate(${shadow.drag.dragging ? shadow.drag.left : (shadow.x * xPerPx) + gap}px, ${shadow.drag.dragging ? shadow.drag.top : (shadow.y * yPerPx + gap)}px);` : ''};\n        {!useTransform ? `top: ${shadow.drag.dragging ? shadow.drag.top : (shadow.y * yPerPx) + gap}px` : ''};\n        {!useTransform ? `left: ${shadow.drag.dragging ? shadow.drag.left : (shadow.x * xPerPx) + gap}px` : ''};\n    width:{((shadow.w * xPerPx) - gap * 2) - (shadow.responsive.valueW*xPerPx)}px;\n    height:{(shadow.h * yPerPx) - gap * 2}px;\"></div>\n  {/if}\n</div>\n\n<script>\nimport { onMount, beforeUpdate,createEventDispatcher } from \"svelte\";\n\nimport { resizeItems, getItemById, moveItem, findFreeSpaceForItem } from \"./utils/item.js\";\nimport { getContainerHeight } from \"./utils/container.js\";\nimport { debounce, getRowsCount, getColumnFromBreakpoints, getCordinates, getTranslate } from \"./utils/other.js\";\nimport { makeMatrixFromItemsIgnore } from \"./utils/matrix.js\";\n\nexport let useTransform = false;\nexport let items = [];\nexport let cols = 0;\nexport let dragDebounceMs = 350;\nexport let gap = 0;\nexport let rowHeight = 150;\nexport let breakpoints;\nexport let fillEmpty = true;\n\nlet container,\n  focuesdItem,\n  bound,\n  xPerPx,\n  currentItemIndex,\n  getComputedCols,\n  documentWidth,\n  resizeNoDynamicCalc,\n  yPerPx = rowHeight,\n  initCols = cols,\n  shadow = {\n    w: 0,\n    h: 0,\n    x: 0,\n    y: 0,\n    active: false,\n    id: null,\n    responsive: { valueW: 0 },\n    min: {},\n    max: {}\n  },\n  ch = getContainerHeight(items, yPerPx);\n\nconst dispatch = createEventDispatcher();\n\nconst getDocWidth = () => document.documentElement.clientWidth\n\nfunction onResize() {\n\n  let w = document.documentElement.clientWidth\n\n  if(w !== documentWidth) {\n    documentWidth = w;\n    \n    bound = container.getBoundingClientRect();\n\n    let getCols = getColumnFromBreakpoints(breakpoints,w,cols,initCols)\n    \n    getComputedCols = getCols\n\n    xPerPx = bound.width / getCols\n\n    dispatch('resize', {\n      cols:getCols,\n      xPerPx,\n      yPerPx // same as rowHeight\n    });\n\n    if(breakpoints) {\n    \titems = resizeItems(items, getCols);\n    }\n\n  } \n\n}\n\n\nonMount(() => {\n  bound = container.getBoundingClientRect();\n\n  let getCols = getColumnFromBreakpoints(breakpoints, getDocWidth(), cols, initCols)\n  \n  getComputedCols = getCols\n\n  documentWidth = document.documentElement.clientWidth\n\n  if(breakpoints) {\n    items = resizeItems(items, getCols)\n  }\n\n  xPerPx = bound.width / getCols\n\n  dispatch('mount', {\n    cols: getCols,\n    xPerPx,\n    yPerPx // same as rowHeight\n  })\n\n});\n\n// resize\n\nlet resizeStartX, resizeStartY, resizeStartWidth, resizeStartHeight;\n\nfunction resizeOnMouseDown(id, e) {\n  e.stopPropagation();\n\n  let {pageX,pageY} = getCordinates(e)\n\n  const { item, index } = getItemById(id, items);\n\n  currentItemIndex = index;\n\n  focuesdItem = item;\n\n  cacheItem = {...item}\n\n  resizeNoDynamicCalc = item.h + item.y === getRowsCount(items);\n\n  shadow = {...shadow,...focuesdItem,...{active:true}}\n\n  resizeStartX = pageX - bound.x;\n  resizeStartY = pageY - bound.y;\n\n  resizeStartWidth = (item.w * xPerPx) - (gap * 2) - (focuesdItem.responsive.valueW * xPerPx);\n\n  resizeStartHeight = (item.h * yPerPx) - (gap * 2);\n\n  getComputedCols = getColumnFromBreakpoints(breakpoints, getDocWidth(), cols, initCols)\n\n  window.addEventListener(\"mousemove\", resizeOnMouseMove, false);\n  window.addEventListener(\"touchmove\", resizeOnMouseMove, false);\n\n  window.addEventListener(\"mouseup\", resizeOnMouseUp, false);\n  window.addEventListener(\"touchend\", resizeOnMouseUp, false);\n}\n\nfunction resizeOnMouseMove(e) {\n\n  let {pageX,pageY}=getCordinates(e);\n\n  pageX = pageX - bound.x;\n  pageY = pageY - bound.y;\n\n  const height = resizeStartHeight + pageY - resizeStartY;\n  const width = resizeStartWidth + (pageX - resizeStartX)\n\n  const {responsive:{valueW} } = focuesdItem;\n\n  let wRes = Math.round(width / xPerPx) + valueW\n\n  const {h:minHeight=1,w:minWidth=1} = focuesdItem.min\n  const {h:maxHeight,w:maxWidth = ((getComputedCols - focuesdItem.x)+valueW)} = focuesdItem.max\n\n  wRes = Math.min(Math.max(wRes,minWidth),maxWidth)/* min max*/\n\n  let hRes = Math.round(height/yPerPx)\n  if(maxHeight) {\n    hRes = Math.min(hRes,maxHeight)\n  }\n  hRes = Math.max(hRes,minHeight)\n\n  shadow = {...shadow, ...{w:wRes, h:hRes}} \n\n  let assignItem = items[currentItemIndex]\n  items[currentItemIndex] = {\n    ...assignItem,\n    resize: {\n      resizing:true,\n      width,\n      height\n    },\n    w:wRes,\n    h:hRes\n  }\n\n  if (!resizeNoDynamicCalc) {\n    debounceRecalculateGridPosition();\n  }\n}\n\nfunction resizeOnMouseUp(e) {\n  e.stopPropagation();\n\n  let assignItem = items[currentItemIndex]\n  items[currentItemIndex] = {\n    ...assignItem,\n    resize:{\n      resizing:false,\n      width:0,\n      height:0\n    }\n  }\n\n  window.removeEventListener(\"mousemove\", resizeOnMouseMove, false);\n  window.removeEventListener(\"touchmove\", resizeOnMouseMove, false);\n\n  window.removeEventListener(\"mouseup\", resizeOnMouseUp, false);\n  window.removeEventListener(\"touchend\", resizeOnMouseUp, false);\n\n  shadow = {...shadow, ... {w:0,h:0,x:0,y:0,active:false,id:null,responsive:{valueW:0}}, min:{},max:{} } \n\n  recalculateGridPosition(\"up\");\n\n  focuesdItem = undefined;\n  resizeNoDynamicCalc = false;\n}\n\n// drag\nlet dragX = 0,\n  dragY = 0;\n\nconst debounceRecalculateGridPosition = debounce(recalculateGridPosition, dragDebounceMs);\n\nlet cacheItem = {};\n\nfunction dragOnMouseDown(id, e) {\n  e.stopPropagation()\n  let {pageX,pageY} = getCordinates(e)\n\n  const { item, index } = getItemById(id, items);\n  \n  currentItemIndex = index;\n\n\n  focuesdItem = item;\n  cacheItem = {...item}\n  \n  shadow = { ...shadow, ...item, active: true }; \n\n  \n\n  let { currentTarget } = e;\n\n  let offsetLeft, offsetTop;\n\n  if(useTransform) {\n    const { x, y } = getTranslate(currentTarget.style.transform)\n    offsetLeft = x\n    offsetTop = y\n  } else {\n    offsetLeft = currentTarget.offsetLeft\n    offsetTop = currentTarget.offsetTop\n  }\n\n  pageX = pageX - bound.x;\n  pageY = pageY - bound.y;\n\n  dragX = pageX - offsetLeft;\n\n  dragY = pageY - offsetTop;\n\n  getComputedCols = getColumnFromBreakpoints(breakpoints, getDocWidth(), cols, initCols)\n\n\n  if (item) {\n    window.addEventListener(\"mousemove\", dragOnMove, false);\n    window.addEventListener(\"touchmove\", dragOnMove, false);\n\n    window.addEventListener(\"mouseup\", dragOnMouseUp, false);\n    window.addEventListener(\"touchend\", dragOnMouseUp, false);\n  } else {\n    console.warn(\"Can not get item\");\n  }\n}\n\n\nfunction dragOnMove(e) {\n  e.stopPropagation()\n\n  let {pageX,pageY} = getCordinates(e)\n\n  const y = pageY - bound.y;\n  const x = pageX - bound.x;\n\n  let xRes = Math.round((x - dragX) / xPerPx);\n  let yRes = Math.round((y - dragY) / yPerPx);\n\n  xRes = Math.max(Math.min(xRes,getComputedCols-(focuesdItem.w- focuesdItem.responsive.valueW)),0)\n\n  yRes = Math.max(yRes, 0);\n\n  let assignItem = items[currentItemIndex];\n\n  items[currentItemIndex] = {\n    ...assignItem,\n    drag:{\n      dragging:true,\n      top:y - dragY,\n      left:x - dragX\n    },\n    x:xRes,\n    y:yRes\n  }\n\n  shadow = {...shadow, ...{x:xRes,y:yRes}}\n\n  debounceRecalculateGridPosition();\n}\n\nfunction dragOnMouseUp(e) {\n  window.removeEventListener(\"mousemove\", dragOnMove, false);\n  window.removeEventListener(\"touchmove\", dragOnMove, false);\n\n  window.removeEventListener(\"mouseup\", dragOnMouseUp, false);\n  window.removeEventListener(\"touchend\", dragOnMouseUp, false);\n\n  let assignItem = items[currentItemIndex]\n  items[currentItemIndex] = {\n    ...assignItem,\n    drag: {\n      dragging: false,\n      top: 0,\n      left: 0\n    },\n  }\n\n  dragX = 0;\n  dragY = 0;\n\n  shadow = {...shadow, ...{w:0,h:0,x:0,y:0,active:false,id:null}} \n  \n  recalculateGridPosition(\"up\");\n\n  focuesdItem = undefined;\n}\n\n\n// Will work on this, need to make code cleaner\nfunction recalculateGridPosition(action) {\n  const dragItem = items[currentItemIndex];\n\n  let getCols = getColumnFromBreakpoints(breakpoints, getDocWidth(), cols, initCols)\n  let result = moveItem(dragItem, items, getCols, cacheItem);\n\n  if(fillEmpty) {\n\n    result.forEach(value => {\n      if (value.id !== dragItem.id) {\n        result = result.map($val =>\n          $val.id === value.id\n            ? {\n                ...$val,\n                ...findFreeSpaceForItem(\n                  makeMatrixFromItemsIgnore(result, [value.id], getRowsCount(result), getCols),\n                  value,\n                  result\n                )\n              }\n            : $val\n        );\n      }\n    });\n  }\n\n  items = result\n\n  dispatch('adjust', {\n    focuesdItem: dragItem\n  });\n\n}\n\nbeforeUpdate(() => {\n  if (!focuesdItem) {\n    ch = getContainerHeight(items, yPerPx);\n    if(cols !== initCols) {\n      if(bound) {\n        xPerPx = bound.width/cols\n        initCols = cols\n      }\n    }\n  }\n});\n\n\n</script>\n",
    "<script>\r\n  import { createEventDispatcher } from 'svelte';\r\n  const dispatch = createEventDispatcher();\r\n\r\n  export let title = \"Hello world!\";\r\n  export let date = new Date().toLocaleDateString();\r\n  export let id = -1;\r\n  export let background = \"#0097a7\";\r\n  export let color = \"#fff\";\r\n  export let texture = \"\";\r\n  let opacity = 1;\r\n  let interval;\r\n  let isClick = true;\r\n\r\n  window.oncontextmenu = function (e){\r\n    if(e.target.classList.contains(\"card-element\") || e.target.classList.contains(\"contextmenu-element\"))\r\n      e.preventDefault();\r\n  }\r\n\r\n  function click() {\r\n    dispatch(\"click\", {\r\n      id: id\r\n    });\r\n  }\r\n\r\n  function startClicking(event){\r\n    //event.preventDefault();\r\n    opacity = 0.6;\r\n    interval = setTimeout(function () {\r\n      isClick = false;\r\n      opacity = 1;\r\n      setTimeout(() => {\r\n        isClick = true;\r\n      }, 1000);\r\n      dispatch(\"longpress\",{\r\n        id: id,\r\n        title: title\r\n      });\r\n    }, 500);\r\n  }\r\n\r\n  function stopClicking(event) {\r\n    //event.preventDefault();\r\n    opacity = 1;\r\n    clearTimeout(interval);\r\n    if(isClick){\r\n      if(isRightClick(event)) dispatch(\"contextmenu\", {id:id, title: title});\r\n      else click();\r\n    }\r\n    isClick = true;\r\n  }\r\n\r\n  function isRightClick(e) {\r\n    e = e || window.event;\r\n    if (\"which\" in e)\r\n        return (e.which == 3);\r\n    else if (\"button\" in e)\r\n        return (e.button == 2);\r\n  }\r\n\r\n</script>\r\n\r\n<main class=\"card-element\" on:touchend={stopClicking} on:touchstart={startClicking} on:mouseup={stopClicking} on:mousedown={startClicking} style=\"background-color: {background}; background-image: url('{texture}'); color: {color}; opacity: {opacity}\">\r\n  <div class=\"card-element content\">\r\n    <div class=\"title card-element\">{title}</div>\r\n    <div class=\"date card-element\">{date}</div>\r\n  </div>\r\n</main>\r\n\r\n<style>\r\n\r\n  main{\r\n    display: flex;\r\n    width: 100% !important;\r\n    height: 100%;\r\n    border-radius: 6px;\r\n\r\n    align-items:flex-end;\r\n    cursor: pointer;\r\n    box-shadow: 0 3px 6px #bdbdbd;\r\n    transition: 0.3s opacity !important;\r\n  }\r\n\r\n  :global(body.dark) main{\r\n    box-shadow: 0 3px 6px #000;\r\n  }\r\n\r\n  main div{\r\n    margin-left: 6px;\r\n    margin-right: 6px;\r\n    width: 100%;\r\n  }\r\n\r\n  .title{\r\n    width: auto;\r\n    word-wrap: break-word;\r\n    font-size: 20px;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n  }\r\n\r\n  .date{\r\n    margin-bottom: 16px;\r\n    font-size: 10px;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n  }\r\n</style>\r\n",
    "<main>\r\n  <div class=\"title\">My diary</div>\r\n  <!-- <div class=\"description\">Made with ❤️ by @maxmoffa on Github</div> -->\r\n</main>\r\n\r\n<style>\r\n  main{\r\n    width: 100%;\r\n    max-width: 600px;\r\n    margin: 64px auto;\r\n    font-family: 'Beth Ellen', cursive;\r\n    font-weight: 700;\r\n    user-select: none;\r\n  }\r\n  .title{\r\n    font-size: 45px;\r\n  }\r\n  .description{\r\n    font-size: 13px;\r\n  }\r\n  main *{\r\n    margin-left: 16px;\r\n  }\r\n</style>\r\n",
    "<script>\r\n  export let src = \"\";\r\n  export let alt = \"\";\r\n  export let text = \"\";\r\n  export let width = \"128px\";\r\n</script>\r\n\r\n{#if src !== \"\"}\r\n  <main>\r\n    <img src={src} alt={alt} style=\"width: {width}\">\r\n    {#if text !== \"\"}\r\n      <div>{text}</div>\r\n    {/if}\r\n  </main>\r\n{/if}\r\n\r\n<style>\r\n  main{\r\n    width: 100%;\r\n    height: fit-content;\r\n  }\r\n\r\n  main *{\r\n    user-select: none;\r\n  }\r\n\r\n  img{\r\n    display: block;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  div{\r\n    width: 100%;\r\n    text-align: center;\r\n    font-family: 'Beth Ellen', cursive;\r\n  }\r\n\r\n  @media print {\r\n\t  main {\r\n\t    display: none;\r\n\t  }\r\n\t}\r\n</style>\r\n",
    "<script>\r\n  import {createEventDispatcher} from 'svelte';\r\n  const dispatch = createEventDispatcher();\r\n\r\n  export let id = null;\r\n  export let context = null;\r\n  export let title = \"What's next?\";\r\n\r\n  let isRealClick = false;\r\n\r\n  function close(event) {\r\n    if(context && isMain(event) && isRealClick) context.$destroy();\r\n    isRealClick = true;\r\n  }\r\n\r\n  function open() {\r\n    if(isRealClick){\r\n      dispatch(\"open\", {\r\n        id: id,\r\n      });\r\n      if(context) context.$destroy();\r\n    }\r\n    isRealClick = true;\r\n  }\r\n\r\n  function modify() {\r\n    if(isRealClick){\r\n      dispatch(\"modify\", {\r\n        id: id,\r\n      });\r\n      if(context) context.$destroy();\r\n    }\r\n    isRealClick = true;\r\n  }\r\n\r\n  function destroy() {\r\n    if(isRealClick){\r\n      dispatch(\"destroy\", {\r\n        id: id,\r\n      });\r\n      if(context) context.$destroy();\r\n    }\r\n    isRealClick = true;\r\n  }\r\n\r\n  function isMain(e) {\r\n    return e.target.localName === \"main\";\r\n  }\r\n\r\n  function stopClicking(){\r\n    isRealClick = true;\r\n  }\r\n</script>\r\n\r\n<main class=\"contextmenu-element\" on:touchend={stopClicking} on:mouseup={stopClicking} on:click={close}>\r\n  <div class=\"dialog contextmenu-element\">\r\n    <div class=\"title contextmenu-element\">{title}</div>\r\n    <div class=\"option contextmenu-element\">\r\n      <div class=\"contextmenu-element\" on:click={open}>\r\n        <span class=\"contextmenu-element\">Read this page</span>\r\n      </div>\r\n      <div class=\"contextmenu-element\" on:click={modify}>\r\n        <span class=\"contextmenu-element\">Change something</span>\r\n      </div>\r\n      <div class=\"contextmenu-element\" on:click={destroy}>\r\n        <span class=\"contextmenu-element\">Destroy this page</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</main>\r\n\r\n<style>\r\n\r\n  *{\r\n    -webkit-tap-highlight-color: transparent;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n  }\r\n\r\n  main{\r\n    display: flex;\r\n    position: fixed;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    bottom: 0;\r\n    left: 0;\r\n    z-index: 2;\r\n    background-color: rgba(0,0,0, 0.3);\r\n    align-items: center;\r\n    color: #000;\r\n  }\r\n\r\n  .dialog{\r\n    display: block;\r\n    position: relative;\r\n    width: 100%;\r\n    max-width: 300px;\r\n    height: fit-content;\r\n    max-height: 500px;\r\n    margin: 64px auto;\r\n\r\n    background-color: #fff;\r\n    border-radius: 6px;\r\n    box-shadow: 0 3px 6px #212121;\r\n    overflow-y: auto;\r\n  }\r\n\r\n  .dialog > div {\r\n    margin: 16px;\r\n    user-select: none;\r\n  }\r\n\r\n  .title{\r\n    word-wrap: break-word;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .option div{\r\n    width: 100%;\r\n    height: fit-content;\r\n    padding: 12px 0;\r\n    transition: 0.2s background;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .option div:active{\r\n    background-color: #bdbdbd !important;\r\n    transition: 0.2s background;\r\n  }\r\n\r\n  .option div span{\r\n    margin: 0 8px;\r\n  }\r\n\r\n  @media print {\r\n\t  main {\r\n\t    display: none;\r\n\t  }\r\n\t}\r\n</style>\r\n",
    "<svelte:head>\r\n  <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\"rel=\"stylesheet\">\r\n</svelte:head>\r\n\r\n<script>\r\n  import { createEventDispatcher } from 'svelte';\r\n  const dispatch = createEventDispatcher();\r\n\r\n  export let icon = \"face\";\r\n  export let background = \"#000\";\r\n  export let shadow = \"#bdbdbd\";\r\n  export let color = \"#fff\";\r\n  export let margin = \"32px\";\r\n  export let fontSize = \"24px\";\r\n  export let positionType = \"absolute\";\r\n  export let position = \"bottom-right\";\r\n  let top = \"auto\";\r\n  let left = \"auto\";\r\n  let right = \"auto\";\r\n  let bottom = \"auto\";\r\n\r\n  switch (position) {\r\n    case \"top-left\": {\r\n      top = margin;\r\n      left = margin;\r\n      break;\r\n    }\r\n    case \"bottom-left\": {\r\n      bottom = margin;\r\n      left = margin;\r\n      break;\r\n    }\r\n    case \"top-right\": {\r\n      top = margin;\r\n      right = margin;\r\n      break;\r\n    }\r\n    default: {\r\n      bottom = margin;\r\n      right = margin;\r\n      break;\r\n    }\r\n  }\r\n\r\n  function click() {\r\n    dispatch(\"click\", {});\r\n  }\r\n</script>\r\n\r\n<main on:click={click} style=\"position: {positionType} !important; background-color: {background}; box-shadow: 0 3px 6px {shadow};top: {top};bottom: {bottom};left: {left};right: {right};\">\r\n  <i style=\"color: {color}; font-size: {fontSize}\" class=\"material-icons\">{icon}</i>\r\n</main>\r\n\r\n<style>\r\n\r\n  *{\r\n    -webkit-tap-highlight-color: transparent;\r\n  }\r\n\r\n  main{\r\n    width: fit-content;\r\n    height: fit-content;\r\n\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n    transition: 0.1s background;\r\n    z-index: 1;\r\n  }\r\n\r\n  main:active{\r\n    background-color: rgba(0, 0, 0, 0.4) !important;\r\n    transition: 0.1s background;\r\n  }\r\n\r\n  :global(body.dark) main:active{\r\n    background-color: #424242 !important;\r\n    transition: 0.1s background;\r\n  }\r\n\r\n  main i{\r\n    margin: 16px;\r\n    user-select: none;\r\n  }\r\n\r\n  @media print {\r\n\t  main {\r\n\t    display: none;\r\n\t  }\r\n\t}\r\n</style>\r\n",
    "<script context=\"module\">\r\n\tconst element = new Set();\r\n</script>\r\n\r\n<script>\r\n  export let text = \"Hello world!\";\r\n  export let actionText = \"Action\";\r\n  export let duration = 2000;\r\n  export let click = null;\r\n  export let context = null;\r\n\r\n  function buttonClick(){\r\n    click();\r\n    document.querySelector(\".snackbar-element\").style.display = \"none\";\r\n    context.$destroy();\r\n  }\r\n\r\n  setTimeout(() => {\r\n    document.querySelector(\".snackbar-element\").style.display = \"none\";\r\n    if(context) context.$destroy();\r\n  }, duration);\r\n</script>\r\n\r\n<main class=\"snackbar-element\">\r\n  <div>\r\n    <span>\r\n      <span>{text}</span>\r\n      {#if click}\r\n        <span class=\"click\" on:click={buttonClick}>{actionText.toUpperCase()}</span>\r\n      {/if}\r\n    </span>\r\n  </div>\r\n</main>\r\n\r\n<style>\r\n  main{\r\n    position: fixed;\r\n    width: 100%;\r\n    height: auto;\r\n    bottom: 0;\r\n    left: 0;\r\n\r\n    z-index: 3;\r\n  }\r\n\r\n  main div{\r\n    position: absolute;\r\n    display: inline-block;\r\n    width: fit-content;\r\n    height: fit-content;\r\n    bottom: 0;\r\n    margin: 8px;\r\n\r\n    background-color: rgba(33, 33, 33, 0.96);\r\n    border-radius: 6px;\r\n    color: #fff;\r\n    font-size: 14px;\r\n  }\r\n\r\n  main div span{\r\n    display: inline-block;\r\n    margin: 4px 8px;\r\n    user-select: none;\r\n  }\r\n\r\n  .click{\r\n    color: #fff8e1;\r\n    cursor: pointer;\r\n  }\r\n\t\r\n\t@media print {\r\n\t  main {\r\n\t    display: none;\r\n\t  }\r\n\t}\r\n</style>\r\n",
    "<script>\r\n  import {createEventDispatcher} from 'svelte';\r\n  const dispatch = createEventDispatcher();\r\n\r\n  export let context = null;\r\n  export let title = \"Are you sure?\";\r\n\r\n  function close(event) {\r\n    if(context && isMain(event)){\r\n      dispatch(\"answer\", {\r\n        response: false,\r\n      });\r\n      context.$destroy();\r\n    }\r\n  }\r\n\r\n  function yes() {\r\n    dispatch(\"answer\", {\r\n      response: true,\r\n    });\r\n    if(context) context.$destroy();\r\n  }\r\n\r\n  function no() {\r\n    dispatch(\"answer\", {\r\n      response: false,\r\n    });\r\n    if(context) context.$destroy();\r\n  }\r\n\r\n  function destroy() {\r\n    if(context) context.$destroy();\r\n  }\r\n\r\n  function isMain(e) {\r\n    return e.target.localName === \"main\";\r\n  }\r\n</script>\r\n\r\n<main on:click={close}>\r\n  <div class=\"dialog\">\r\n    <div class=\"title\">{title}</div>\r\n    <div class=\"option\">\r\n      <div on:click={yes}>\r\n        <span>Yes</span>\r\n      </div>\r\n      <div on:click={no}>\r\n        <span>Nope</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</main>\r\n\r\n<style>\r\n\r\n  *{\r\n    -webkit-tap-highlight-color: transparent;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n  }\r\n\r\n  main{\r\n    display: flex;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    bottom: 0;\r\n    left: 0;\r\n    z-index: 2;\r\n    background-color: rgba(0,0,0, 0.3);\r\n    align-items: center;\r\n    color: #000;\r\n  }\r\n\r\n  .dialog{\r\n    display: block;\r\n    position: relative;\r\n    width: 100%;\r\n    max-width: 300px;\r\n    height: fit-content;\r\n    max-height: 500px;\r\n    margin: 64px auto;\r\n\r\n    background-color: #fff;\r\n    border-radius: 6px;\r\n    box-shadow: 0 3px 6px #212121;\r\n    overflow-y: auto;\r\n  }\r\n\r\n  .dialog > div {\r\n    margin: 16px;\r\n    user-select: none;\r\n  }\r\n\r\n  .title{\r\n    font-weight: 600;\r\n  }\r\n\r\n  .option div{\r\n    width: 100%;\r\n    height: fit-content;\r\n    padding: 12px 0;\r\n    transition: 0.2s background;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .option div:active{\r\n    background-color: #bdbdbd !important;\r\n    transition: 0.2s background;\r\n  }\r\n\r\n  .option div span{\r\n    margin: 0 8px;\r\n  }\r\n\r\n  @media print {\r\n\t  main {\r\n\t    display: none;\r\n\t  }\r\n\t}\r\n</style>\r\n",
    "<script>\r\n  import {createEventDispatcher} from 'svelte';\r\n  const dispatch = createEventDispatcher();\r\n\r\n  export let placeholder = \"Search 🔎\";\r\n  export let query = \"\";\r\n  let input_bar;\r\n\r\n  function search(text) {\r\n    dispatch(\"change\",{\r\n      query: text.target.value,\r\n    });\r\n  }\r\n\r\n  function focus() {\r\n    input_bar.placeholder = \"\";\r\n  }\r\n\r\n  function blur() {\r\n    input_bar.placeholder = \"Search 🔎\";\r\n  }\r\n\r\n</script>\r\n\r\n<main>\r\n  <input bind:this={input_bar} class=\"search-bar\" on:focus={focus} on:blur={blur} on:input={search} bind:value={query} type=\"text\" placeholder={placeholder}>\r\n</main>\r\n\r\n<style>\r\n\r\n  *{\r\n      outline: 0;\r\n  }\r\n\r\n  main{\r\n    display: block;\r\n    max-width: 300px;\r\n    width: 100%;\r\n    height: auto;\r\n    margin: 16px auto;\r\n  }\r\n\r\n  main input{\r\n    width: 100%;\r\n\r\n    border-radius: 50px;\r\n    background-color: transparent;\r\n    text-align: center;\r\n    user-select: text;\r\n    transition: 1s background;\r\n  }\r\n\r\n  main input:focus{\r\n    background-color: #fff;\r\n    color: #000 !important;\r\n    transition: 1s background;\r\n  }\r\n\r\n  :global(body.dark) .search-bar{\r\n    color: #fff;\r\n  }\r\n\r\n  :global(body.dark) .search-bar::-webkit-input-placeholder {\r\n    color: grey;\r\n  }\r\n\r\n  :global(body.dark) .search-bar:-ms-input-placeholder {\r\n    color: grey;\r\n  }\r\n\r\n  :global(body.dark) .search-bar::placeholder {\r\n    color: grey;\r\n  }\r\n</style>\r\n",
    "<script>\r\n  import Quill from 'quill';\r\n  import {onMount, onDestroy, createEventDispatcher} from 'svelte';\r\n  import Fab from '../Components/Fab.svelte';\r\n  import Snackbar from '../Components/Snackbar.svelte';\r\n  import alertBox from '../Components/alertBox.svelte';\r\n  import ColorSelector from '../Components/ColorSelector.svelte';\r\n\r\n  const dispatch = createEventDispatcher();\r\n  const colors = [\r\n    \"#b71c1c\",\r\n    \"#880e4f\",\r\n    \"#4a148c\",\r\n    \"#311b92\",\r\n    \"#1a237e\",\r\n    \"#0d47a1\",\r\n    \"#01579b\",\r\n    \"#006064\",\r\n    \"#004d40\",\r\n    \"#1b5e20\",\r\n    \"#33691e\",\r\n    \"#827717\",\r\n    \"#e65100\",\r\n    \"#bf360c\",\r\n    \"#3e2723\",\r\n  ];\r\n\r\n  document.body.style.overflow = \"hidden\";\r\n  if(window.history && window.history.pushState && !window.location.href.endsWith(\"viewer\")) window.history.pushState(null, null, './#creator');\r\n\r\n  let toolbarOptions = [\r\n  ['bold', 'italic', 'underline', 'strike'],\r\n  ['blockquote', 'code-block'],\r\n  [{ 'list': 'ordered'}, { 'list': 'bullet' }],\r\n  [{ 'size': ['small', false, 'large', 'huge'] }],\r\n  [{ 'background': [] }],\r\n  [{ 'align': [] }],\r\n  ['link', 'image'],\r\n  ['clean']\r\n];\r\n\r\n  export let db = null;\r\n  export let id = null;\r\n  export let date = new Date().toLocaleDateString();\r\n  export let context = null;\r\n\r\n  let editor = null;\r\n  let title = \"\";\r\n  let color = \"\";\r\n  let texture = null;\r\n  let changes = false;\r\n  let isToolbarFloating = false;\r\n  let width_content = \"600px\";\r\n\r\n  if(localStorage.getItem(\"content-width-diary\"))\r\n    width_content = localStorage.getItem(\"content-width-diary\");\r\n\r\n  onMount(() => {\r\n    editor = new Quill('#editor-creator', {\r\n      modules: {\r\n        toolbar: toolbarOptions\r\n      },\r\n      placeholder: 'Note',\r\n      theme: 'snow'\r\n    });\r\n    editor.on('text-change', function(delta, oldDelta, source) {\r\n      if (source === 'user' && oldDelta.ops.length !== 1 && oldDelta.ops[0].insert !== \"\\n\") {\r\n        changes = true;\r\n      }\r\n      if((editor.getLength()-2) === delta.ops[0].retain)\r\n        document.querySelector(\"#creator-main\").scrollTo(0,document.querySelector(\"#creator-main\").scrollHeight);\r\n    });\r\n    if(db !== null && id !== null){\r\n      let objectStore = db.transaction([\"pages\"], \"readwrite\").objectStore(\"pages\");\r\n      let request = objectStore.get(id);\r\n      request.onerror = function(event) {\r\n        console.log(event);\r\n        alertUser(\"Ops! There is a problem\");\r\n      };\r\n      request.onsuccess = function(event) {\r\n        let data = event.target.result;\r\n        if(data !== undefined){\r\n          title = data.title;\r\n          date = data.date;\r\n          if(data.color){\r\n            color = data.color;\r\n            document.querySelector(\".color-selector #color\").style.background = color;\r\n          }\r\n          if(data.texture){\r\n            texture = data.texture;\r\n          }\r\n          id = data.id;\r\n          document.querySelector(\".ql-editor\").innerHTML = data.body;\r\n        }\r\n      };\r\n    }\r\n    document.querySelector(\".ql-toolbar\").style.display = \"block\";\r\n  });\r\n\r\n  onDestroy(() => {\r\n    document.body.style.overflow = \"auto\";\r\n    if(id){\r\n      dispatch(\"destroy\", {\r\n        id: id\r\n      });\r\n    }\r\n  });\r\n\r\n  function closePage() {\r\n    if(changes){\r\n      let alert = new alertBox({\r\n        target: document.body,\r\n        props: {}\r\n      });\r\n      alert.$set({\r\n        context: alert\r\n      });\r\n      alert.$on(\"answer\", (event) => {\r\n        if(event.detail.response){\r\n          if(window.history && window.history.pushState) window.history.back();\r\n          else context.$destroy();\r\n        }\r\n      });\r\n    }else {\r\n      if(window.history && window.history.pushState) window.history.back();\r\n      else context.$destroy();\r\n    }\r\n  }\r\n\r\n  function saveNote() {\r\n    let text = document.querySelector(\".ql-editor\").innerHTML;\r\n    if(title === \"\") {\r\n      alertUser(\"Hey! You need a title...\");\r\n      return;\r\n    }\r\n    if(text === \"<p><br></p>\"){\r\n      alertUser(\"Hey! You need a body...\");\r\n      return;\r\n    }\r\n    if(db === null || editor === null) return;\r\n    let item = {\r\n      title: title,\r\n      body: text,\r\n      date: date,\r\n      color: (color !== \"\" ? color : colors[Math.round(Math.random() * 15)]),\r\n      texture: (texture ? texture : Math.round(Math.random() * 8)),\r\n    };\r\n\r\n    if(id !== null) item.id = id;\r\n    let objectStore = db.transaction([\"pages\"], \"readwrite\").objectStore(\"pages\");\r\n    let request = objectStore.put(item);\r\n    request.onsuccess = function(event) {\r\n      dispatch(\"creation\", {});\r\n      if(window.history && window.history.pushState) window.history.back();\r\n      else context.$destroy();\r\n    };\r\n    request.onerror = function(event) {\r\n      console.log(event);\r\n      alertUser(\"Ops! There is a problem\");\r\n    };\r\n  }\r\n\r\n  function scollEvent(event) {\r\n    let toolbar = document.querySelector(\".ql-toolbar\");\r\n    let height = toolbar.offsetHeight + 48;\r\n    if(event.target.scrollTop > 300){\r\n      if(!isToolbarFloating){\r\n        isToolbarFloating = true;\r\n        document.querySelector(\".ql-editor\").style.marginTop = height + \"px\";\r\n        toolbar.style.position = \"fixed\";\r\n      }\r\n    }else{\r\n      document.querySelector(\".ql-editor\").style.marginTop = \"32px\";\r\n      toolbar.style.position = \"static\";\r\n      isToolbarFloating = false;\r\n    }\r\n  }\r\n\r\n  function alertUser(text) {\r\n    let snackbar = new Snackbar({\r\n    \ttarget: document.body,\r\n    \tprops: {\r\n    \t\tduration: 2000,\r\n    \t\ttext: text,\r\n    \t}\r\n    });\r\n    snackbar.$set({\r\n      context: snackbar\r\n    });\r\n  }\r\n\r\n  function changeSelect() {\r\n    let colorSelector = new ColorSelector({\r\n    \ttarget: document.body,\r\n    \tprops: {\r\n    \t}\r\n    });\r\n    colorSelector.$set({\r\n      context: colorSelector\r\n    });\r\n    colorSelector.$on(\"change\", (e) => {\r\n      color = e.detail.color;\r\n      document.querySelector(\".color-selector #color\").style.background = color;\r\n      changes = true;\r\n    });\r\n  }\r\n</script>\r\n\r\n<main id=\"creator-main\" on:scroll={scollEvent}>\r\n  {#if window.document.body.classList.contains('dark')}\r\n    <Fab on:click={closePage} fontSize=\"32px\" margin=\"16px\" color=\"#fff\" background=\"#212121\" shadow=\"#212121\" icon=\"arrow_back\" position=\"top-left\" />\r\n    <Fab on:click={saveNote} fontSize=\"32px\" margin=\"16px\" color=\"#fff\" background=\"#212121\" shadow=\"#212121\" icon=\"save\" position=\"top-right\" />\r\n  {:else}\r\n    <Fab on:click={closePage} fontSize=\"32px\" margin=\"16px\" color=\"#000\" background=\"#fff8e1\" shadow=\"#fff8e1\" icon=\"arrow_back\" position=\"top-left\" />\r\n    <Fab on:click={saveNote} fontSize=\"32px\" margin=\"16px\" color=\"#000\" background=\"#fff8e1\" shadow=\"#fff8e1\" icon=\"save\" position=\"top-right\" />\r\n  {/if}\r\n  <div class=\"body\">\r\n    <div class=\"content\" style=\"max-width: {width_content};\">\r\n      <input bind:value={title} class=\"title\" type=\"text\" placeholder=\"Title\" maxlength=\"60\">\r\n      <div class=\"date\">{date}</div>\r\n      <div class=\"color-selector\">\r\n        <label for=\"color\">Select a color</label>\r\n        <div id=\"color\" on:click={changeSelect}></div>\r\n      </div>\r\n      <div id=\"editor-creator\" class=\"text\"></div>\r\n    </div>\r\n  </div>\r\n</main>\r\n\r\n<style>\r\n\r\n  *{\r\n      outline: 0;\r\n  }\r\n\r\n  main{\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 2;\r\n\r\n    overflow-y: auto;\r\n    background-color: #fff8e1;\r\n\t\tcolor: #263238;\r\n    scrollbar-width: thin;\r\n    scrollbar-color: #212121 #fff8e1;\r\n  }\r\n\r\n  :global(body.dark) main{\r\n\t\tbackground-color: #212121;\r\n\t\tcolor: #fff !important;\r\n    scrollbar-color: #fff8e1 #212121;\r\n\t}\r\n\r\n  .body{\r\n    position: absolute;\r\n    width: 100%;\r\n    height: auto;\r\n    top: 90px;\r\n  }\r\n\r\n  .content{\r\n    width: 100%;\r\n    max-width: 600px;\r\n    height: 30px;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .content *{\r\n    display: block;\r\n    margin: 0 16px 16px 16px;\r\n  }\r\n\r\n  .title{\r\n    width: calc(100% - 16px);\r\n    font-size: 40px;\r\n\r\n    background-color: transparent;\r\n    border: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  .color-selector{\r\n    padding: 16px 0 16px 0;\r\n  }\r\n\r\n  .color-selector *{\r\n    margin-left: 0;\r\n  }\r\n\r\n  #color{\r\n    width: 128px;\r\n    height: 32px;\r\n    border: 1px solid #000;\r\n    cursor: pointer;\r\n    background: transparent;\r\n  }\r\n\r\n  :global(body.dark) #color{\r\n\t\tborder: 1px solid #fff;\r\n\t}\r\n\r\n  :global(body.dark) .title{\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n  .text{\r\n    height: auto;\r\n    min-height: fit-content;\r\n    font-size: 20px;\r\n    border: 0 !important;\r\n  }\r\n\r\n  :global(body.dark) .title{\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n  :global(.ql-toolbar){\r\n    top: 10px;\r\n    margin: 8px 16px;\r\n    border-radius: 20px;\r\n    border-color: #fff;\r\n    background-color: #fff8e1 !important;\r\n    z-index: 4 !important;\r\n  }\r\n\r\n  :global(.ql-editor){\r\n    padding: 0 !important;\r\n    margin-top: 32px;\r\n    margin-bottom: 100px;\r\n  }\r\n\r\n  :global(body.dark) :global(.ql-toolbar){\r\n    background-color: #212121 !important;\r\n  }\r\n\r\n  :global(body.dark) :global(.ql-editor)::before {\r\n    color: grey !important;\r\n  }\r\n\r\n  :global(.floatingToolbar){\r\n    position: fixed;\r\n    top: 10px;\r\n  }\r\n</style>\r\n",
    "<script>\r\n  import ImageElement from '../Components/ImageElement.svelte';\r\n  import {createEventDispatcher, onDestroy} from 'svelte';\r\n  import Fab from '../Components/Fab.svelte';\r\n  import Snackbar from '../Components/Snackbar.svelte';\r\n\r\n  const dispatch = createEventDispatcher();\r\n\r\n  document.body.style.overflow = \"hidden\";\r\n\r\n  export let id = null;\r\n  export let db = null;\r\n  export let context = null;\r\n\r\n  let title = \"\";\r\n  let date = \"\";\r\n  let body = \"\";\r\n  let status = 0;\r\n  let width_content = \"600px\";\r\n\r\n  if(localStorage.getItem(\"content-width-diary\"))\r\n    width_content = localStorage.getItem(\"content-width-diary\");\r\n\r\n  if(window.history && window.history.pushState)\r\n    window.history.pushState(null, null, './#viewer');\r\n\r\n  onDestroy(() => {\r\n    document.body.style.overflow = \"auto\";\r\n  });\r\n\r\n  if(db !== null){\r\n    let objectStore = db.transaction([\"pages\"], \"readwrite\").objectStore(\"pages\");\r\n    let request = objectStore.get(id);\r\n    request.onerror = function(event) {\r\n      console.log(event);\r\n      alertUser(\"Ops! There is a problem\");\r\n      status = 1;\r\n    };\r\n    request.onsuccess = function(event) {\r\n      let data = event.target.result;\r\n      if(data !== undefined){\r\n        title = data.title;\r\n        date = data.date;\r\n        body = data.body;\r\n        status = 2;\r\n      }else{\r\n        status = 3;\r\n        alertUser(\"Ops! There is nothing about it\");\r\n      }\r\n    };\r\n  }else{\r\n    status = 1;\r\n    alertUser(\"Ops! There is a problem\");\r\n  }\r\n\r\n  function closePage() {\r\n    if(window.history && window.history.pushState) window.history.back();\r\n    else context.$destroy();\r\n  }\r\n\r\n  function modify() {\r\n    dispatch(\"modify\", {\r\n      id: id\r\n    });\r\n    if(context) context.$destroy();\r\n  }\r\n\r\n  function deleteThis() {\r\n    dispatch(\"delete\", {\r\n      id: id,\r\n    })\r\n  }\r\n\r\n  function alertUser(text) {\r\n    let snackbar = new Snackbar({\r\n      target: document.body,\r\n      props: {\r\n        duration: 2000,\r\n        text: text,\r\n      }\r\n    });\r\n    snackbar.$set({\r\n      context: snackbar\r\n    });\r\n  }\r\n</script>\r\n\r\n<main>\r\n  {#if window.document.body.classList.contains('dark')}\r\n    <Fab on:click={closePage} fontSize=\"32px\" margin=\"16px\" color=\"#fff\" background=\"#212121\" shadow=\"#212121\" icon=\"arrow_back\" position=\"top-left\" />\r\n    <Fab on:click={deleteThis} fontSize=\"32px\" margin=\"16px\" color=\"#fff\" background=\"#212121\" shadow=\"#212121\" icon=\"delete\" position=\"top-right\" />\r\n    <Fab positionType=\"fixed\" on:click={modify} fontSize=\"32px\" color=\"#000\" background=\"#fff8e1\" shadow=\"#000\" icon=\"edit\" />\r\n  {:else}\r\n    <Fab on:click={closePage} fontSize=\"32px\" margin=\"16px\" color=\"#000\" background=\"#fff8e1\" shadow=\"#fff8e1\" icon=\"arrow_back\" position=\"top-left\" />\r\n    <Fab on:click={deleteThis} fontSize=\"32px\" margin=\"16px\" color=\"#000\" background=\"#fff8e1\" shadow=\"#fff8e1\" icon=\"delete\" position=\"top-right\" />\r\n    <Fab positionType=\"fixed\" on:click={modify} fontSize=\"32px\" icon=\"edit\" />\r\n  {/if}\r\n  <div class=\"body\">\r\n    <div class=\"content\" style=\"max-width: {width_content};\">\r\n      {#if status === 2}\r\n        <div class=\"title\">{title}</div>\r\n        <div class=\"date\">{date}</div>\r\n        <div class=\"text ql-editor\">{@html body}</div>\r\n      {:else if status === 0}\r\n        <ImageElement class=\"loading\" src=\"../media/image/loading.gif\" alt=\"Loading...\" />\r\n      {:else if status === 1}\r\n        <ImageElement text=\"Ops! There is a problem\" width=\"256px\" class=\"loading\" src=\"../media/image/error.gif\" alt=\"Error...\" />\r\n      {:else if status === 3}\r\n        <ImageElement class=\"loading\" text=\"Write down two lines\" src=\"../media/image/empty.gif\" alt=\"No data...\" />\r\n      {/if}\r\n    </div>\r\n  </div>\r\n</main>\r\n\r\n<style>\r\n  main{\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 2;\r\n\r\n    overflow-y: auto;\r\n    background-color: #fff8e1;\r\n\t\tcolor: #263238;\r\n    scrollbar-width: thin;\r\n    scrollbar-color: #212121 #fff8e1;\r\n  }\r\n\r\n  :global(body.dark) main{\r\n\t\tbackground-color: #212121;\r\n\t\tcolor: #fff;\r\n    scrollbar-color: #fff8e1 #212121;\r\n\t}\r\n\r\n  .body{\r\n    position: absolute;\r\n    width: 100%;\r\n    height: auto;\r\n    top: 90px;\r\n  }\r\n\r\n  .content{\r\n    width: 100%;\r\n    height: 30px;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .content *{\r\n    display: block;\r\n    margin: 0 16px 16px 16px;\r\n  }\r\n\r\n  .title{\r\n    word-wrap: break-word;\r\n    font-size: 40px;\r\n  }\r\n\r\n  .text{\r\n    height: auto;\r\n    margin-top: 22px !important;\r\n    padding-top: 10px !important;\r\n    margin-bottom: 100px;\r\n    font-size: 20px;\r\n    font-family: Arial;\r\n    line-height: 28.4px;\r\n    -webkit-user-select: text;\r\n    -moz-user-select: text;\r\n    -ms-user-select: text;\r\n    user-select: text;\r\n  }\r\n\r\n  :global(.ql-editor p img){\r\n    display: block;\r\n    max-width: 800px !important;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  :global(.ql-syntax){\r\n    background-color: #23241f;\r\n    color: #f8f8f2;\r\n    overflow: visible;\r\n    white-space: pre-wrap;\r\n    margin-bottom: 5px;\r\n    margin-top: 5px;\r\n    padding: 5px 10px;\r\n    border: 1px solid grey;\r\n    border-radius: 3px;\r\n  }\r\n</style>\r\n",
    "<script>\r\n  import {createEventDispatcher} from 'svelte';\r\n  import ImageElement from '../Components/ImageElement.svelte';\r\n  import Fab from '../Components/Fab.svelte';\r\n  import Button from '../Components/Button.svelte';\r\n\r\n  const dispatch = createEventDispatcher();\r\n\r\n  document.body.style.overflow = \"hidden\";\r\n\r\n  export let context = null;\r\n  let theme = localStorage.getItem(\"theme-mode-diary\");\r\n  let width_content = \"600px\";\r\n  if(localStorage.getItem(\"content-width-diary\"))\r\n    width_content = localStorage.getItem(\"content-width-diary\");\r\n  let version = \"...\";\r\n  if ('serviceWorker' in navigator) {\r\n    if(navigator.serviceWorker.controller){\r\n      navigator.serviceWorker.addEventListener('message', event => {\r\n        version = event.data.version;\r\n      });\r\n      navigator.serviceWorker.controller.postMessage({\r\n        action: \"getVersion\"\r\n      });\r\n    }\r\n  }\r\n\r\n  if(window.history && window.history.pushState) window.history.pushState(null, null, './#option');\r\n\r\n  function closePage() {\r\n    if(window.history && window.history.pushState) window.history.back();\r\n    else context.$destroy();\r\n    document.body.style.overflow = \"auto\";\r\n  }\r\n\r\n  function changeTheme(e) {\r\n\t\twindow.document.body.classList.toggle(\"dark\");\r\n    theme = e.target.value;\r\n    dispatch(\"changeTheme\", {\r\n      theme: theme\r\n    })\r\n    localStorage.setItem(\"theme-mode-diary\", theme);\r\n  }\r\n\r\n  function changeWidth(e) {\r\n    width_content = e.target.value;\r\n    localStorage.setItem(\"content-width-diary\", e.target.value);\r\n  }\r\n\r\n  function openGithub() {\r\n    window.open(\"https://github.com/MaxMoffa/MyDiary\");\r\n  }\r\n\r\n  function openAuthor() {\r\n    window.open(\"https://dev.to/maxmoffa\");\r\n  }\r\n\r\n  function openDonation() {\r\n    window.open(\"https://www.buymeacoffee.com/ABxD3lK\");\r\n  }\r\n</script>\r\n\r\n<main>\r\n  {#if theme === \"dark\"}\r\n    <Fab on:click={closePage} fontSize=\"32px\" margin=\"16px\" color=\"#fff\" background=\"#212121\" shadow=\"#212121\" icon=\"arrow_back\" position=\"top-left\" />\r\n  {:else}\r\n    <Fab on:click={closePage} fontSize=\"32px\" margin=\"16px\" color=\"#000\" background=\"#fff8e1\" shadow=\"#fff8e1\" icon=\"arrow_back\" position=\"top-left\" />\r\n  {/if}\r\n  <div class=\"body\">\r\n    <div class=\"content\">\r\n      <ImageElement src=\"./media/icons-web-app/ms-icon-310x310.png\" text=\"Settings\" />\r\n      <div class=\"options\">\r\n        <div class=\"option\">\r\n          <label for=\"theme-selector\">Theme</label>\r\n          <select on:change={changeTheme} bind:value={theme}>\r\n            <option value=\"light\">Light</option>\r\n            <option value=\"dark\">Dark</option>\r\n          </select>\r\n        </div>\r\n        {#if window.innerWidth > 600}\r\n        <div class=\"option\">\r\n          <label for=\"width-selector\">Content width (only for large screens)</label>\r\n          <select on:change={changeWidth} bind:value={width_content}>\r\n            <option value=\"100%\">Large</option>\r\n            <option value=\"800px\">Medium</option>\r\n            <option value=\"600px\">Small</option>\r\n          </select>\r\n        </div>\r\n        {/if}\r\n        <div class=\"option\">\r\n          <label for=\"theme-selector\">Version</label>\r\n          <div>{version}</div>\r\n        </div>\r\n        <div class=\"option\">\r\n          <label for=\"theme-selector\">Author</label>\r\n          <div>\r\n            <Button title=\"@maxmoffa\" background=\"#4a148c\" on:click={openAuthor} />\r\n          </div>\r\n        </div>\r\n        <div class=\"option\">\r\n          <label for=\"theme-selector\">Github page</label>\r\n          <div>\r\n            <Button title=\"Open on Github\" background=\"#1b5e20\" on:click={openGithub} />\r\n          </div>\r\n        </div>\r\n        <div class=\"option\">\r\n          <label for=\"theme-selector\">Donations</label>\r\n          <div>\r\n            <Button title=\"Buy me a coffee ☕\" background=\"#ff813f\" on:click={openDonation} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</main>\r\n\r\n<style>\r\n  main{\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 2;\r\n\r\n    overflow-y: auto;\r\n    background-color: #fff8e1;\r\n\t\tcolor: #263238;\r\n    scrollbar-width: thin;\r\n    scrollbar-color: #212121 #fff8e1;\r\n  }\r\n\r\n  :global(body.dark) main{\r\n\t\tbackground-color: #212121;\r\n\t\tcolor: #fff;\r\n    scrollbar-color: #fff8e1 #212121;\r\n\t}\r\n\r\n  .body{\r\n    position: absolute;\r\n    width: 100%;\r\n    height: auto;\r\n    top: 90px;\r\n  }\r\n\r\n  .content{\r\n    width: 100%;\r\n    max-width: 600px;\r\n    height: 30px;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .content *{\r\n    display: block;\r\n    margin: 0 16px 16px 16px;\r\n  }\r\n\r\n  .title{\r\n    font-size: 40px;\r\n    margin-bottom: 64px;\r\n  }\r\n\r\n  .option{\r\n    width: 100%;\r\n    height: auto;\r\n    margin-top: 32px;\r\n  }\r\n\r\n  label{\r\n    font-weight: 700;\r\n  }\r\n\r\n  select{\r\n    cursor: pointer;\r\n    background: transparent;\r\n  }\r\n\r\n  :global(body.dark) select{\r\n    color: #fff;\r\n  }\r\n\r\n  option{\r\n    background-color: #fff8e1;\r\n  }\r\n\r\n  :global(body.dark) option{\r\n    background-color: #212121;\r\n  }\r\n</style>\r\n",
    "<script>\r\n\r\n  import {createEventDispatcher} from 'svelte';\r\n  const dispatch = createEventDispatcher();\r\n\r\n  export let title = \"Hello world\";\r\n  export let background = \"#4a148c\";\r\n\r\n  function click() {\r\n    dispatch(\"click\", {});\r\n  }\r\n</script>\r\n\r\n<main on:click={click} style=\"background-color: {background}\">\r\n  <span>{title}</span>\r\n</main>\r\n\r\n<style>\r\n\r\n*{\r\n  -webkit-tap-highlight-color: transparent;\r\n}\r\n\r\nmain{\r\n  width: fit-content;\r\n  height: fit-content;\r\n  border-radius: 6px;\r\n\r\n  cursor: pointer;\r\n  text-align: center;\r\n  box-shadow: 0 3px 6px #bdbdbd;\r\n  transition: 0.3s opacity !important;\r\n  padding: 8px;\r\n  color: #fff;\r\n  user-select: none;\r\n}\r\n\r\n:global(body.dark) main{\r\n  box-shadow: 0 3px 6px #000;\r\n}\r\n\r\nmain:active{\r\n  opacity: 0.6;\r\n  transition: 0.3s opacity !important;\r\n}\r\n\r\nmain span{\r\n  margin: 8px;\r\n}\r\n\r\n@media print {\r\n  main {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n",
    "<script>\r\n  import {createEventDispatcher} from 'svelte';\r\n  const dispatch = createEventDispatcher();\r\n\r\n  export let context = null;\r\n  export let title = \"Choose a color\";\r\n\r\n  let color = \"\";\r\n\r\n  function close(event) {\r\n    if(context && isMain(event)) context.$destroy();\r\n  }\r\n\r\n  function selectColor(e) {\r\n    dispatch(\"change\", {\r\n      color: e.target.style[\"background-color\"],\r\n    });\r\n    if(context) context.$destroy();\r\n  }\r\n\r\n  function isMain(e) {\r\n    return e.target.localName === \"main\";\r\n  }\r\n</script>\r\n\r\n<main on:click={close}>\r\n  <div class=\"dialog\">\r\n    <div class=\"title\">{title}</div>\r\n    <div class=\"option\">\r\n      <div on:click={selectColor} style=\"background-color: #b71c1c\"></div>\r\n      <div on:click={selectColor} style=\"background-color: #880e4f\"></div>\r\n      <div on:click={selectColor} style=\"background-color: #4a148c\"></div>\r\n      <div on:click={selectColor} style=\"background-color: #311b92\"></div>\r\n      <div on:click={selectColor} style=\"background-color: #1a237e\"></div>\r\n      <div on:click={selectColor} style=\"background-color: #0d47a1\"></div>\r\n      <div on:click={selectColor} style=\"background-color: #01579b\"></div>\r\n      <div on:click={selectColor} style=\"background-color: #006064\"></div>\r\n      <div on:click={selectColor} style=\"background-color: #004d40\"></div>\r\n      <div on:click={selectColor} style=\"background-color: #1b5e20\"></div>\r\n      <div on:click={selectColor} style=\"background-color: #33691e\"></div>\r\n      <div on:click={selectColor} style=\"background-color: #827717\"></div>\r\n      <div on:click={selectColor} style=\"background-color: #e65100\"></div>\r\n      <div on:click={selectColor} style=\"background-color: #bf360c\"></div>\r\n      <div on:click={selectColor} style=\"background-color: #3e2723\"></div>\r\n    </div>\r\n  </div>\r\n</main>\r\n\r\n<style>\r\n\r\n  *{\r\n    -webkit-tap-highlight-color: transparent;\r\n  }\r\n\r\n  main{\r\n    display: flex;\r\n    position: fixed;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    bottom: 0;\r\n    left: 0;\r\n    z-index: 2;\r\n    background-color: rgba(0,0,0, 0.3);\r\n    align-items: center;\r\n    color: #000;\r\n  }\r\n\r\n  .dialog{\r\n    display: block;\r\n    position: relative;\r\n    width: 100%;\r\n    max-width: 300px;\r\n    height: fit-content;\r\n    max-height: 500px;\r\n    margin: 64px auto;\r\n\r\n    background-color: #fff;\r\n    border-radius: 6px;\r\n    box-shadow: 0 3px 6px #212121;\r\n    overflow-y: auto;\r\n  }\r\n\r\n  .dialog > div {\r\n    margin: 16px;\r\n    user-select: none;\r\n  }\r\n\r\n  .option{\r\n    max-height: 300px;\r\n    overflow-y: auto;\r\n    scrollbar-width: thin;\r\n    scrollbar-color: #212121 #fff;\r\n  }\r\n\r\n  .option::-webkit-scrollbar{\r\n    width: 8px;\r\n  }\r\n\r\n  .option::-webkit-scrollbar-thumb{\r\n    background-color: #212121;\r\n    border-right: 1px solid #fff;\r\n  }\r\n\r\n  .option::-webkit-scrollbar-thumb:hover{\r\n    background-color: grey;\r\n  }\r\n\r\n  .title{\r\n    font-weight: 600;\r\n  }\r\n\r\n  .option div{\r\n    width: 100%;\r\n    height: 32px;\r\n    margin-bottom: 8px;\r\n    padding: 12px 0;\r\n    transition: 0.2s background;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .option div:active{\r\n    background-color: #bdbdbd !important;\r\n    transition: 0.2s background;\r\n  }\r\n\r\n  .option div span{\r\n    margin: 0 8px;\r\n  }\r\n\r\n  @media print {\r\n\t  main {\r\n\t    display: none;\r\n\t  }\r\n\t}\r\n</style>\r\n"
  ],
  "names": [],
  "mappings": "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"
}